<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xml:lang="en" lang="en"
      i18n:domain="plone"
      metal:use-macro="here/main_template/macros/master">

  <head>
      <metal:block fill-slot="top_slot">
        <tal:insert tal:replace="nothing"
              tal:define="dummy python:request.set('enable_border', 1)" />
      </metal:block>
  </head>

  <body>

      <metal:content-title fill-slot="content-title">
          <h1 class="documentFirstHeading"> 
              <tal:block condition="exists:here/aq_explicit/widget">
                  <metal:field use-macro="python:here.widget('title', mode='view')">
                  Title
                  </metal:field>
              </tal:block>
              <tal:block condition="not:exists:here/aq_explicit/widget">
                  <span tal:content="view/title" tal:omit-tag="">Directory Id</span>
              </tal:block>
          </h1>        
      </metal:content-title>
      
      <metal:content-description fill-slot="content-description">
          <div class="documentDescription" tal:condition="exists:here/aq_explicit/widget">
              <metal:field use-macro="python:here.widget('description', mode='view')">
                  Description
              </metal:field>
          </div>
          <tal:block condition="not:exists:here/aq_explicit/widget">
              <div class="documentDescription" 
                         tal:content="context/Description" 
                         tal:condition="context/Description"> 
                  Description
              </div>
          </tal:block>
      </metal:content-description>

      <metal:content-core fill-slot="content-core">
      <div id="search-form">
          <form action="." method="POST" name="order-filter">
          <table id="search-form-table">
              <tr>
                  <td>
                      <label for="review_state">
                          State
                      </label>
                  </td>
                  <td>
                      <input id="review_state" name="review_state" value=""
                          tal:attributes="value request/review_state |nothing"/>
                  </td>
                  <td>
                      <label for="payment_method">
                          Payment method
                      </label>
                  </td>
                  <td>
                      <input id="payment_method" name="payment_method" value=""
                          tal:attributes="value request/payment_method |nothing"/>
                  </td>
              </tr>
              <tr>
                  <td>
                      <label for="userid">
                          User id 
                      </label>
                  </td>
                  <td>
                      <input id="userid" name="userid" value=""
                          tal:attributes="value request/userid |nothing"/> <br/>
                  </td>
                  <td>
                      <label for="related_item_uuids">
                          Related services
                      </label>
                  </td>
                  <td>
                      <input id="related_item_uuids" name="" value=""
                          tal:attributes="value request/related_item_uuids |nothing"/> <br/>
                  </td>
              </tr>
              <tr>
                  <td>
                      <label for="order_date">
                          Order date
                      </label>
                  </td>
                  <td>
                      <input id="order_date" name="" value=""
                          tal:attributes="value request/order_date |nothing"/> <br/>
                  </td>
                  <td>
                      <label for="order_number">
                          Order number
                      </label>
                  </td>
                  <td>
                      <input id="order_number" name="" value=""
                          tal:attributes="value request/order_number |nothing"/> <br/>
                  </td>
              </tr>
              <tr colspan="2">
                  <td>
                      <label for="verification_code">
                          Verification code
                      </label>
                  </td>
                  <td>
                      <input id="verification_code" name="" value=""
                          tal:attributes="value request/verification_code |nothing"/> <br/>
                  </td>
              </tr>
          </table>
          <input type="submit" name="list_orders.form.submitted" value="Search" />
          </form>
      </div>
      <tal:defines define="orders view/orders">

      <tal:orders define="orders view/orders">
          <table>
            <tr>
                <th>State</th>
                <th>Payment method</th>
                <th>User id</th>
                <th>Related services</th>
                <th>Order date</th>
                <th>Order number</th>
                <th>Verification code</th>
            </tr>
            <tr tal:repeat="order orders">
                <td tal:content="python:view.review_state(order)">
                    State
                </td>
                <td tal:content="order/payment_method">
                    CC|EFT|PRSMS
                </td>
                <td tal:content="order/userid">
                    User007
                </td>
                <td tal:content="order">
                    Related services
                </td>
                <td tal:content="order/created">
                    01 Jan 1970
                </td>
                <td tal:content="order/Title">
                    Order nnn
                </td>
                <td tal:content="order/verification_code">
                    44444
                </td>
            </tr>
          </table>
      </tal:orders>

      </tal:defines>
      </metal:content-core>
      
  </body>
</html>
